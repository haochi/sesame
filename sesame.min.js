(function(){function c(){d=this.d={};this.a=[];this.b=[];e=this.e={}}function f(a){for(var b=0,h=a.length;b<h;)a[b++]()}function i(a,b,h){if(b instanceof Array)for(var g=0,f=b.length;g<f;){var c=a,j=b[g++],i=h;j in c||(c[j]=[]);c[j].push(i)}else b in a||(a[b]=[]),a[b].push(h)}c.prototype={after:function(a){this.a.push(a);return this},before:function(a){this.b.push(a);return this},add:function(a,b){i(this.d,a,b);return this},except:function(a,b){i(this.e,a,b);return this},create:function(){return new c}, run:function(a){var b=this.d,c=this.e;f(this.b);if(null!=b){a in b&&f(b[a]);for(var g in c)g!=a&&f(c[g])}f(this.a);return this}};window.sesame=new c})();